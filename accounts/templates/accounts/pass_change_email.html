{% extends "base.html" %}

{% load crispy_forms_tags %}

{% block content %}
  <h2 class="text-center text-2xl font-bold mb-6">Change Your Password</h2>
  {% if messages %}
  <div class="mt-4">
    {% for message in messages %}
      <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mt-2" role="alert">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}


  <form style="width: 50%; margin: auto; margin-top: 40px;" method="post">
    {% csrf_token %}
<!-- {{form | crispy}} -->
    <!-- Old password field with Tailwind CSS error handling -->
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="id_old_password">Old password</label>
      {{ form.old_password }}
      <div>
        {% if form.old_password.errors %}
          <div class="text-red-700 px-4 italic  rounded mt-2" role="alert">
            <ul>
              {% for error in form.old_password.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- New password field with Tailwind CSS error handling -->
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="id_new_password1">New password</label>
      {{ form.new_password1 }}
      <div>
        {% if form.new_password1.errors %}
          <div class="text-red-700 px-4 italic  rounded mt-2" role="alert">
            <ul>
              {% for error in form.new_password1.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- Confirm new password field with Tailwind CSS error handling -->
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="id_new_password2">New password confirmation</label>
      {{ form.new_password2 }}
      <div>
        {% if form.new_password2.errors %}
          <div class=" text-red-700 px-4 italic  rounded mt-2" role="alert">
            <ul>
              {% for error in form.new_password2.errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- Submit button -->
    <button type="submit" class="bg-blue-900 text-white hover:bg-blue-700 font-bold py-2 px-4 rounded w-full">
      Change password
    </button>
  </form>

{% endblock %}
